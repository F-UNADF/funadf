.breadcrumbs
  .page-header
    %h1
      Gestion de la structure
      %b= @structure.name


.content.mt-3
  .container-fluid
    .row
      .col-md-3
        = render 'structures/infos', structure: @structure

      .col-md-9
        .card
          .card-header
            = render 'structures/navbar'


          .card-body
            .table-responsive
              %table.table.table-striped.table-sm
                %thead
                  %tr
                    %th Identifiant
                    %th Type
                    %th Nom
                    %th Email
                    %th Téléphone
                    %th Rôle
                    %th

                - @has_members.each do |membership|
                  %tr
                    %td= membership.member_friendly_id
                    %td= t "activerecord.models."+membership.is_memberable_type.downcase+".one"
                    %td= membership.member_name
                    %td= membership.member_email
                    %td= membership.member_phone_1
                    %td= t "activerecord.attributes.membership.roles."+membership.kind

            %hr
            %h3.h5 Ajouter un membre


            = form_for :search, url: search_path, method: :get, remote: :true do |f|
              = f.hidden_field :structure_id, value: @structure.id
              .form-group
                .input-group
                  = f.text_field :request, class: "form-control", placeholder: 'Votre recherche... dm2a, fnadf...'
                  .input-group-append
                    .input-group-text
                      %button.btn.btn-link{type: :submit}
                        = icon "search"

            #result
              .alert.alert-info
                %p.mb-0.text-info
                  Vous pouvez chercher un membre ou une association par nom, email ou identifiant